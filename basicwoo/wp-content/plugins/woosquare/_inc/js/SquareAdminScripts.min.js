jQuery(document).ready(function(e){"use strict";e.WooSquare_admin={sync:function(o,r){var c={ajaxSyncNonce:WooSquare_local.ajaxSyncNonce,action:"wc-to-square"===r?"wc_to_square_ajax":"square_to_wc_ajax",process:parseInt(o,10)};e.post(WooSquare_local.ajaxurl,c,function(o){"done"===o.process?(e("body").trigger("woocommerce_square_wc_to_square_sync_complete",[o]),e("table.form-table").unblock(),e(".wp-square-progress-bar span").animate({width:o.percentage+"%"},30,"swing",function(){e(".wp-square-progress-bar").fadeOut("slow",function(){alert(o.message)})})):(e(".wp-square-progress-bar span").animate({width:o.percentage+"%"},30,"swing"),e.WooSquare_admin.sync(parseInt(o.process,10),o.type))})},init:function(){e(".woocommerce_page_wc-settings").on("click","#wc-to-square, #square-to-wc",function(o){o.preventDefault();var r=e(this).parents("table.form-table"),c=e('<div class="wp-square-progress-bar wp-square-stripes"><span class="step"></span></div>');e(".wp-square-progress-bar").remove(),r.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),r.after(c),e(".wp-square-progress-bar span").animate({width:"1%"},30,"swing"),e.WooSquare_admin.sync(0,e(this).attr("id"))}),e(document.body).on("change","#woocommerce_square_testmode",function(){e(this).is(":checked")?(e("#woocommerce_square_application_id").parents("tr").eq(0).hide(),e("#woocommerce_square_token").parents("tr").eq(0).hide(),e("#woocommerce_square_sandbox_application_id").parents("tr").eq(0).show(),e("#woocommerce_square_sandbox_token").parents("tr").eq(0).show()):(e("#woocommerce_square_application_id").parents("tr").eq(0).show(),e("#woocommerce_square_token").parents("tr").eq(0).show(),e("#woocommerce_square_sandbox_application_id").parents("tr").eq(0).hide(),e("#woocommerce_square_sandbox_token").parents("tr").eq(0).hide())}),e("#woocommerce_square_testmode").trigger("change"),e(document.body).on("change","#woocommerce_squareconnect_sync_products",function(){e(this).is(":checked")?(e("#woocommerce_squareconnect_sync_categories").parents("tr").eq(0).show(),e("#woocommerce_squareconnect_sync_inventory").parents("tr").eq(0).show(),e("#woocommerce_squareconnect_sync_images").parents("tr").eq(0).show()):(e("#woocommerce_squareconnect_sync_categories").parents("tr").eq(0).hide(),e("#woocommerce_squareconnect_sync_inventory").parents("tr").eq(0).hide(),e("#woocommerce_squareconnect_sync_images").parents("tr").eq(0).hide())}),e("#woocommerce_squareconnect_sync_products").trigger("change")}},e.WooSquare_admin.init()});